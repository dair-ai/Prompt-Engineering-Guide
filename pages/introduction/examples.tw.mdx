# 提示詞示例

import {Cards, Card} from 'nextra-theme-docs'
import {CodeIcon} from 'components/icons'
import {Bleed} from 'nextra-theme-docs'
import {Callout} from 'nextra-theme-docs'
import { CoursePromo, CoursesSection, CourseCard } from '../../components/CourseCard'

前一節中，我們介紹並給出了如何提示詞大型語言模型的基本範例。

這一節將提供更多的示例，介紹如何使用提示詞來完成不同的任務，並在其中介紹重要概念。通常來說，學習概念的最佳方法就是透過實際例子。以下的幾個例子將說明你如何使用精心設計的提示詞來進行不同類型的任務。

主題：
- [文字摘要](#文字摘要)
- [資訊抽取](#資訊抽取)
- [問答](#問答)
- [文字分類](#文字分類)
- [對話](#對話)
- [程式碼產生](#程式碼產生)
- [推理](#推理)

---

<iframe width="100%"
  height="415px"
  src="https://www.youtube.com/embed/TBhRC4Dath4?si=6nwh0GuYAOv1H6yT" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
  allowFullScreen
  />


## 文字摘要
自然語言產生中的一個標準任務就是文字摘要。文字摘要可以包含許多不同的風格和領域。事實上，語言模型最有前景的應用之一就是能夠將文章和概念摘要成快速且易讀的摘要。我們試試使用提示詞來做一個基本的摘要任務。

假設你對抗生素有興趣，你可以嘗試這樣的提示詞：

*提示詞：*
```
解釋抗生素

A:
```

*輸出：*
```
抗生素是一種用來治療細菌感染的藥物。它們的作用方式是殺死細菌或阻止它們繁殖，從而讓身體的免疫系統可以對抗感染。抗生素通常以口服藥丸、膠囊或液體形式服用，有時候也會透過靜脈注射給藥。抗生素對病毒感染無效，濫用抗生素可能導致抗生素耐藥性的產生。
```

"A:" 是一種明確的提示詞格式，你在問答中使用它來告訴模型需要進一步的答案。在這個例子中，我們用它來告訴模型，這裡需要一個答案。這個例子中，不清楚這種做法與不使用它有何區別，但我們會在後面的例子中留出一些空間來討論這點。現在假設這個答案太詳細，你希望它能更簡短一些。實際上，你可以指導模型把它縮減成一句話，如下所示：

*提示詞：*
```
抗生素是一種用來治療細菌感染的藥物。它們的作用方式是殺死細菌或阻止它們繁殖，從而讓身體的免疫系統可以對抗感染。抗生素通常以口服藥丸、膠囊或液體形式服用，有時候也會透過靜脈注射給藥。抗生素對病毒感感染無效，濫用抗生素可能導致抗生素耐藥性的產生。

用一句話來解釋上面的內容：
```

*輸出：*
```
抗生素是一種藥物，用於治療細菌感染，它們能夠殺死細菌或阻止它們繁殖，但對病毒無效，且過度使用可能導致抗生素耐藥性。
```

不過分關註上述輸出的準確性，模型嘗試用一句話來總結這段內容。你可以用指令讓輸出更巧妙，我們將在後面的章節中探討。現在，你可以暫停一下，自己嘗試看看是否能得到更好的結果。

---
## 資訊抽取

雖然語言模型訓練的目的是進行自然語言產生和相關任務，但它也非常擅長執行分類和一系列其他自然語言處理（NLP）任務。

以下是一個從給定段落中抽取資訊的提示詞範例。

*提示詞：*
```
研究論文的作者貢獻宣告和致謝部分應明確具體地說明作者在撰寫論文和分析中使用瞭如 ChatGPT 這樣的 AI 技術的程度，並應指明使用了哪些大型語言模型。這將使編輯和審稿人更仔細地審查稿件，以防出現偏見、不準確和來源不當的情況。同樣，科學期刊應對其使用大型語言模型的情況進行透明化，例如在選擇提交的稿件時。

請提及上述段落中提到的基於大型語言模型的產品：
```

*輸出：*
```
上述段落中提到的基於大型語言模型的產品是 ChatGPT。
```

有許多方法可以改進上述結果，但這已經很有用了。

到現在為止，你應該已經明白，你可以透過簡單的指令讓模型執行不同的任務。這是 AI 產品開發人員已經在用來建構強大產品和體驗的一種強大能力。

段落來源：[ChatGPT: 五大研究重點](https://www.nature.com/articles/d41586-023-00288-7)

---
## 問答

獲得模型回應特定答案的最佳方式之一是改進提示詞的格式。如前所述，提示詞可以結合指令、上下文、輸入和輸出指示來獲得改進的結果。雖然這些元件並非必需，但實踐證明，你對指令的具體性越強，獲得的結果就越好。以下是一個例項，說明如何根據更結構化的提示詞進行操作。

*提示詞：*
```
根據下面的情境回答問題。保持答案簡短並精確。如果不確定答案，回答「不確定答案」。

情境：Teplizumab 的源頭可以追溯到一家位於新澤西的藥公司，名為 Ortho Pharmaceutical。在那裡，科學家產生了一種早期版本的抗體，被稱為 OKT3。該分子最初來源於老鼠，能夠繫結到 T 細胞的表面並限制其細胞殺傷潛能。在 1986 年，它被批准用於預防腎臟移植後的器官排斥，成為第一種獲準用於人體的治療性抗體。

問題：OKT3 最初是源自哪裡的？

答案：
```

*輸出：*
```
老鼠。
```

情境取自 [Nature](https://www.nature.com/articles/d41586-023-00400-x)。

---

## 文字分類
到目前為止，你已經使用簡單的指令來進行任務。作為一個提示詞工程師，你需要提供更好的指令。但這還不夠！你會發現，對於更困難的使用案例，僅提供指令並不足夠。這是你需要考慮更多關於提示詞中的情境和你可以使用的不同元素的時候。你還可以提供的其他元素有 `輸入資料` 或 `範例`。

讓我們嘗試這個，並提供一個文字分類的例子。

*提示詞：*
```
將文字分類為中立、負面或正面。

Text: 我覺得食物還可以。
情感：
```

*輸出：*
```
中立
```

你給出了分類文字的指令，並且模型回答了 `'中立'`，這是正確的。這沒有錯，但假設你真正需要的是讓模型以你想要的確切格式給出標籤。所以你要的不是 `中立`，而是 `neutral`。你要如何達成這個目標呢？有幾種方法可以達到這個目標。在這裡，你關心的是特異性，因此提示詞可以提供的資訊越多，結果就越好。你可以嘗試在提示詞中提供範例以指定正確的行為。讓我們再試一次：

*提示詞：*
```
將文字分類為中立、負面或正面。

Text: 我覺得假期還可以。
情感：neutral

Text: 我覺得食物還可以。
情感：
```

*輸出：*
```
neutral
```

完美！這次模型回應了 `neutral`，這是你正在尋找的特定標籤。看來在提示詞中提供的例子幫助模型在輸出中更具體。

要強調為什麼有時候確定性很重要，看看下面的例子並找出問題：

*提示詞：*
```
將文字分類為 nutral、負面或正面。

Text: 我覺得假期還可以。
情感：
```

*輸出：*
```
中立
```

這裡有什麼問題呢？提示詞，製作的 `nutral` 標籤被模型完全忽略了。相反，模型輸出 `中立`，因為它對那個標籤有一些偏見。但假設你真正想要的是 `nutral`。你如何解決這個問題呢？也許你可以嘗試在提示詞中新增標籤描述或新增更多的範例？如果你不確定，我們將在接下來的章節中討論一些想法。

---

## 對話
也許你可以透過提示詞工程達到更有趣的事情，比如指示大型語言模型系統如何行為，它的意圖，以及它的身份。這特別適合當你正在建構對話系統，如客服聊天機器人時。

比如，讓我們建立一個能夠對問題產生更技術性和科學性回答的對話系統。注意你是如何明確地透過指示告訴它該如何行為的。這有時被稱為*角色提示詞*。

*提示詞：*
```
以下是與一個 AI 研究助理的對話。助理的語調是技術性和科學性的。

人類：你好，你是誰？
AI：問候！我是一個 AI 研究助理。今天我可以如何幫助你？
人類：你能告訴我有關黑洞的創造嗎？
AI：
```

*輸出：*
```
當然！黑洞是時空中的區域，其中的引力力量如此強大，以至於沒有任何東西，甚至光也無法逃脫。當一顆非常大的恆星死亡，其核心崩塌在自身之上，形成了無窮密度的奇點。奇點的強烈引力吸入了周圍的所有物質和輻射，建立了黑洞。
```

我們的 AI 研究助理聽起來太技術性了，對吧？好的，讓我們改變這種行為，並指示系統給出更容易理解的答案。

*提示詞：*
```
以下是與一個 AI 研究助理的對話。助理的答案應該容易理解，即使是小學生也能理解。

人類：你好，你是誰？
AI：問候！我是一個 AI 研究助理。今天我可以如何幫助你？
人類：你能告訴我有關黑洞的創造嗎？
AI:
```

*輸出：*
```
當然可以！黑洞是當一顆非常大的恆星耗盡燃料並崩塌在自身之上時建立的。恆星的引力如此之強，以至於沒有任何東西，甚至光也無法逃脫它的吸引。這創造了一個稱為黑洞的時空點，具有強烈的引力。
```

你已經有所進展。你可以繼續改進它。如果你新增更多的範例，你可能會獲得更好的結果。

---

## 程式碼產生
一個大型語言模型非常有效的應用是程式碼產生。Copilot 就是這個應用的一個很好的例子。你可以用巧妙的提示詞進行大量的程式碼產生任務。讓我們看看下面的幾個範例。

首先，讓我們嘗試一個簡單的程式，用來問候使用者。

*提示詞：*
```
/*
向使用者詢問他們的名字，然後說「Hello」
*/
```

*輸出：*
```
let name = prompt("你叫什麼名字？");
console.log(`你好，${name}！`);
```

你注意到了，你甚至不需要指定要使用的語言。

讓我們換個等級試試看。下面的範例會顯示出，只要在設計提示詞上多費點心思，大型語言模型可以變得多麼強大。

*提示詞：*
```
"""
Table departments, columns = [DepartmentId, DepartmentName]
Table students, columns = [DepartmentId, StudentId, StudentName]
Create a MySQL query for all students in the Computer Science Department
"""
```

*輸出：*
```
SELECT StudentId, StudentName
FROM students
WHERE DepartmentId IN (SELECT DepartmentId FROM departments WHERE DepartmentName = 'Computer Science');
```

這太厲害了。在這個案例中，你提供了有關資料庫結構的資訊，並要求它產生一個有效的 MySQL 查詢。

---

## 推理
也許對於一個大型語言模型來說，現在最困難的任務之一，就是需要某種形式的推理。推理之所以特別有趣，是因為它能衍生出各種複雜的應用。

在涉及數學能力的任務上，這幾年確實有所進步。不過也要注意：目前的 LLM 仍然常在推理任務上出錯，因此更需要進階的提示詞工程技巧。我們會在下一篇指南討論這些進階技巧。這裡先用幾個基本範例，示範算術能力。

*提示詞：*
```
9,000 * 9,000 是多少？
```

*輸出：*
```
81,000,000
```

讓我們試試更難一點的例子。

*提示詞：*
```
這組數字中的奇數加起來是一個偶數：15, 32, 5, 13, 82, 7, 1。

A:
```

*輸出*
```
不，這組數字中的奇數加起來是一個奇數：119。
```

這是錯的！讓我們透過改進提示詞來嘗試修正。

*提示詞：*
```
這組數字中的奇數加起來是一個偶數：15, 32, 5, 13, 82, 7, 1。

把問題拆解成步驟來解。先找出奇數、把它們加總，並指出結果是奇數還是偶數。
```

*輸出：*
```
奇數：15, 5, 13, 7, 1
總和：41
41 是一個奇數。
```

好多了，對吧？順帶一提，我們試了幾次，模型有時仍然會失敗。如果能提供更好的指示並搭配示例，通常有助於提升正確率。

在接下來的章節中，我們會涵蓋更進階的提示詞工程概念與技巧，讓這些（以及更困難的）任務表現更好。

## Notebook

如果想用 Python 練習上面的提示詞，我們準備了一個 notebook，示範如何用 OpenAI models 測試其中一些 prompts。

<Cards>
    <Card
    icon={<CodeIcon />}
    title="Getting Started with Prompt Engineering"
    href="https://github.com/dair-ai/Prompt-Engineering-Guide/blob/main/notebooks/pe-lecture.ipynb"
    />
</Cards>

<CoursesSection title="相關學習">
  <CourseCard
    tag="課程"
    tagColor="blue"
    title="Prompt Engineering for LLMs"
    description="透過實作範例學習文字摘要、分類、程式碼產生與推理，熟悉 LLM 的應用方式。"
    href="https://dair-ai.thinkific.com/courses/introduction-prompt-engineering"
    level="入門"
    duration="2 小時"
  />
  <CourseCard
    tag="課程"
    tagColor="purple"
    title="Building Effective AI Agents"
    description="學會打造高效的 AI Agents，涵蓋函式呼叫、工具整合與代理系統除錯。"
    href="https://dair-ai.thinkific.com/courses/agents-with-n8n"
    level="中階"
    duration="5 小時"
  />
</CoursesSection>

<CoursePromo
  title="探索所有課程"
  description="探索我們完整的 AI 與提示詞工程課程目錄，從入門到進階都涵蓋。"
  href="https://dair-ai.thinkific.com/"
  buttonText="瀏覽學院"
  promoCode="PROMPTING20"
/>
